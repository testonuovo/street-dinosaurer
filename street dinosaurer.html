<!doctype html>
<html lang="it">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Street Dinosaurer</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: 'Arial Black', Arial, sans-serif;
      background: linear-gradient(180deg, #87CEEB 0%, #E0F6FF 50%, #8B7355 50%, #A0826D 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    #gameContainer {
      width:95%;
      max-width: 1000px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      padding: 15px;
    }

    #title {
      text-align: center;
      font-size: 42px;
      color: #FF4500;
      text-shadow: 4px 4px 0px #8B0000, 6px 6px 0px #000000;
      margin: 0 0 10px 0;
      letter-spacing: 2px;
    }

    #hud {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 25px;
      background: rgba(0, 0, 0, 0.8);
      border-radius: 10px;
      border: 4px solid #FFD700;
    }

    .playerInfo {
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-width: 200px;
    }

    .playerName {
      font-size: 16px;
      color: #FFD700;
      text-shadow: 2px 2px 0px #000000;
      font-weight: bold;
    }

    .healthBarContainer {
      background: #8B0000;
      height: 25px;
      border: 3px solid #000000;
      border-radius: 5px;
      overflow: hidden;
      position: relative;
    }

    .healthBar {
      height: 100%;
      background: linear-gradient(90deg, #00FF00 0%, #FFFF00 50%, #FF0000 100%);
      transition: width 0.3s ease;
      box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.5);
    }

    .healthText {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 12px;
      color: #FFFFFF;
      text-shadow: 1px 1px 0px #000000;
      font-weight: bold;
    }

    #timer {
      font-size: 32px;
      color: #FFD700;
      text-shadow: 3px 3px 0px #000000;
      background: rgba(0, 0, 0, 0.6);
      padding: 8px 20px;
      border-radius: 10px;
      border: 3px solid #FFD700;
      font-weight: bold;
    }

    #canvasWrapper {
      position: relative;
      width: 100%;
    }

    #canvas {
      border: 6px solid #000000;
      border-radius: 10px;
      background: linear-gradient(180deg, #87CEEB 0%, #E0F6FF 40%, #8B7355 70%, #A0826D 100%);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      display: block;
      width: 100%;
      height: auto;
    }

    #controls {
      display: flex;
      justify-content: space-around;
      padding: 15px;
      background: rgba(0, 0, 0, 0.8);
      border-radius: 9px;
      border: 4px solid #FFD700;
      flex-wrap: wrap;
      gap: 15px;
    }

    .controlGroup {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
    }

    .controlLabel {
      font-size: 13px;
      color: #FFD700;
      text-shadow: 2px 2px 0px #000000;
      margin-bottom: 5px;
      font-weight: bold;
    }

    .controlKeys {
      display: flex;
      gap:3px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .key {
      background: linear-gradient(180deg, #FFFFFF 0%, #CCCCCC 100%);
      border: 2px solid #000000;
      border-radius: 5px;
      padding: 6px 10px;
      font-size: 11px;
      color: #000000;
      font-weight: bold;
      box-shadow: 0 3px 0 #666666;
      min-width: 35px;
      text-align: center;
    }

    .touchControls {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
      width:30%;
    }

    .moveControls {
      display: flex;
      gap: 10px;
      justify-content: center;
    }

    .controlBtn {
      background: linear-gradient(180deg, #4169E1 0%, #1E3A8A 100%);
      border:3px blue;
      border-radius:6px;
      padding:7px 15px;
      font-size: 14px;
      color: #FFFFFF;
      text-shadow: 2px 2px 0px #000000;
      cursor: pointer;
      font-family: 'Arial Black', Arial, sans-serif;
      box-shadow: 0 4px 0 #0A1E5E;
      transition: transform 0.1s, background 0.2s;
      font-weight: bold;
      flex: 1;
      min-width: 100px;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
    }

    .controlBtn:hover {
      background: linear-gradient(180deg, #5B7FE8 0%, #2E4A9A 100%);
    }

    .controlBtn:active {
      transform: translateY(3px);
      box-shadow: 0 1px 0 #0A1E5E;
      background: linear-gradient(180deg, #2E4A9A 0%, #1E3A8A 100%);
    }

    .controlBtn.attackBtn {
      background: linear-gradient(180deg, #DC143C 0%, #8B0000 100%);
      box-shadow: 0 4px 0 #4B0000;
      font-size: 16px;
    }

    .controlBtn.attackBtn:hover {
      background: linear-gradient(180deg, #FF1744 0%, #A52A2A 100%);
    }

    .controlBtn.attackBtn:active {
      background: linear-gradient(180deg, #8B0000 0%, #5C0000 100%);
      box-shadow: 0 1px 0 #4B0000;
    }

    #gameOver {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.95);
      padding: 35px 50px;
      border-radius: 15px;
      border: 6px solid #FFD700;
      text-align: center;
      z-index: 1000;
    }

    #gameOver.show {
      display: block;
    }

    #winnerText {
      font-size: 28px;
      color: #FFD700;
      text-shadow: 3px 3px 0px #000000;
      margin-bottom: 20px;
      font-weight: bold;
    }

    #restartBtn {
      background: linear-gradient(180deg, #FF4500 0%, #8B0000 100%);
      border: 4px solid #000000;
      border-radius: 10px;
      padding: 12px 35px;
      font-size: 16px;
      color: #FFFFFF;
      text-shadow: 2px 2px 0px #000000;
      cursor: pointer;
      font-family: 'Arial Black', Arial, sans-serif;
      box-shadow: 0 5px 0 #4B0000;
      transition: transform 0.1s;
      font-weight: bold;
    }

    #restartBtn:hover {
      background: linear-gradient(180deg, #FF6347 0%, #A52A2A 100%);
    }

    #restartBtn:active {
      transform: translateY(3px);
      box-shadow: 0 2px 0 #4B0000;
    }

    .aiInfo {
      text-align: center;
      color: #FFD700;
      font-size: 14px;
      margin-top: 10px;
      text-shadow: 2px 2px 0px #000000;
      padding: 10px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 8px;
    }

    @media (max-width: 768px) {
      #title {
        font-size: 24px;
      }
      
      .playerName {
        font-size: 12px;
      }
      
      #timer {
        font-size: 20px;
      }
      
      .key {
        font-size: 9px;
        padding: 5px 8px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <main id="gameContainer">
   <header>
    <h1 id="title">STREET DINOSAURER</h1>
   </header>
   <section id="hud" aria-label="Informazioni giocatori">
    <div class="playerInfo">
     <div class="playerName" id="player1Name">
      GIOCATORE
     </div>
     <div class="healthBarContainer">
      <div class="healthBar" id="player1Health" style="width: 100%;"></div>
      <div class="healthText" id="player1HealthText">
       100
      </div>
     </div>
    </div>
    <div id="timer">
     99
    </div>
    <div class="playerInfo">
     <div class="playerName" id="player2Name">
      COMPUTER
     </div>
     <div class="healthBarContainer">
      <div class="healthBar" id="player2Health" style="width: 100%;"></div>
      <div class="healthText" id="player2HealthText">
       100
      </div>
     </div>
    </div>
   </section>
   <section id="canvasWrapper" aria-label="Arena di gioco">
    <canvas id="canvas" width="950" height="450"></canvas>
   </section>
   <section id="controls" aria-label="Controlli di gioco">
    <div class="controlGroup">
     <div class="controlLabel">
      CONTROLLI GIOCATORE
     </div>
     <div class="controlKeys">
      <div class="key">
       w
      </div>
      <div class="key">
       A
      </div>
      <div class="key">
       S
      </div>
      <div class="key">
       D
      </div>
      <div class="key">
       SPAZIO
      </div>
     </div>
     <div class="touchControls"><button class="controlBtn" data-action="jump" type="button">‚Üë SALTA</button>
      <div class="moveControls"><button class="controlBtn" data-action="left" type="button">‚Üê SINISTRA</button> <button class="controlBtn" data-action="right" type="button">DESTRA ‚Üí</button>
      </div><button class="controlBtn attackBtn" data-action="attack" type="button">‚öîÔ∏è ATTACCO</button>
     </div>
    </div>
    <div class="controlGroup">
     <div class="controlLabel">
      AVVERSARIO AI
     </div>
     <div class="aiInfo">
      ü§ñ Il computer gioca automaticamente!<br>
       Si muove, salta e attacca da solo.<br>
       Avvicinati e attacca per vincere!
     </div>
    </div>
   </section>
  </main>
  <div id="gameOver" role="dialog" aria-modal="true" aria-labelledby="winnerText">
   <div id="winnerText">
    GIOCATORE VINCE!
   </div><button id="restartBtn" type="button">RIGIOCA</button>
  </div>
  <script>
    const defaultConfig = {
      game_title: "STREET DINOSAURER",
      player_name: "GIOCATORE",
      enemy_name: "COMPUTER"
    };

    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    let gameState = {
      player1: {
        x: 150,
        y: 280,
        width: 60,
        height: 80,
        health: 100,
        velocityY: 0,
        isJumping: false,
        direction: 1,
        isAttacking: false,
        attackCooldown: 0
      },
      player2: {
        x: 690,
        y: 280,
        width: 60,
        height: 80,
        health: 100,
        velocityY: 0,
        isJumping: false,
        direction: -1,
        isAttacking: false,
        attackCooldown: 0
      },
      keys: {},
      timer: 99,
      gameOver: false,
      winner: null
    };

    const GRAVITY = 0.6;
    const JUMP_STRENGTH = -12;
    const MOVE_SPEED = 4;
    const GROUND_Y = 280;
    const ATTACK_DAMAGE = 8;
    const ATTACK_RANGE = 80;

    function drawDinosaur(player, color1, color2) {
      ctx.save();
      ctx.translate(player.x + player.width / 2, player.y + player.height);
      if (player.direction === -1) {
        ctx.scale(-1, 1);
      }
      
      // Corpo
      ctx.fillStyle = color1;
      ctx.beginPath();
      ctx.ellipse(0, -40, 28, 36, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '#000000';
      ctx.lineWidth = 2;
      ctx.stroke();
      
      // Testa
      ctx.fillStyle = color1;
      ctx.beginPath();
      ctx.ellipse(20, -56, 20, 24, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.stroke();
      
      // Bocca
      ctx.fillStyle = color2;
      ctx.beginPath();
      ctx.moveTo(28, -48);
      ctx.lineTo(40, -44);
      ctx.lineTo(32, -40);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
      
      // Occhio
      ctx.fillStyle = '#FFFFFF';
      ctx.beginPath();
      ctx.arc(24, -60, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.stroke();
      ctx.fillStyle = '#000000';
      ctx.beginPath();
      ctx.arc(26, -60, 2, 0, Math.PI * 2);
      ctx.fill();
      
      // Denti
      ctx.fillStyle = '#FFFFFF';
      for (let i = 0; i < 3; i++) {
        ctx.beginPath();
        ctx.moveTo(32 + i * 4, -44);
        ctx.lineTo(34 + i * 4, -40);
        ctx.lineTo(30 + i * 4, -40);
        ctx.closePath();
        ctx.fill();
        ctx.strokeStyle = '#000000';
        ctx.lineWidth = 1;
        ctx.stroke();
      }
      
      // Coda
      ctx.fillStyle = color1;
      ctx.beginPath();
      ctx.moveTo(-24, -32);
      ctx.quadraticCurveTo(-40, -24, -48, -8);
      ctx.lineTo(-44, -4);
      ctx.quadraticCurveTo(-36, -20, -20, -28);
      ctx.closePath();
      ctx.fill();
      ctx.strokeStyle = '#000000';
      ctx.lineWidth = 2;
      ctx.stroke();
      
      // Gambe
      ctx.fillStyle = color2;
      ctx.fillRect(-12, -24, 10, 28);
      ctx.strokeRect(-12, -24, 10, 28);
      ctx.fillRect(4, -24, 10, 28);
      ctx.strokeRect(4, -24, 10, 28);
      
      // Braccia
      ctx.fillStyle = color2;
      ctx.fillRect(8, -48, 6, 20);
      ctx.strokeRect(8, -48, 6, 20);
      
      // Effetto attacco
      if (player.isAttacking) {
        ctx.fillStyle = 'rgba(255, 255, 0, 0.6)';
        ctx.beginPath();
        ctx.arc(40, -48, 16, 0, Math.PI * 2);
        ctx.fill();
        
        ctx.strokeStyle = '#FF0000';
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(35, -48);
        ctx.lineTo(50, -48);
        ctx.stroke();
      }
      
      ctx.restore();
    }

    function drawBackground() {
      // Dettagli terreno
      ctx.fillStyle = '#654321';
      for (let i = 0; i < 15; i++) {
        ctx.fillRect(i * 60, 360, 40, 4);
      }
      
      // Nuvole
      ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
      ctx.beginPath();
      ctx.arc(150, 60, 24, 0, Math.PI * 2);
      ctx.arc(175, 60, 28, 0, Math.PI * 2);
      ctx.arc(200, 60, 24, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.beginPath();
      ctx.arc(600, 90, 28, 0, Math.PI * 2);
      ctx.arc(630, 90, 32, 0, Math.PI * 2);
      ctx.arc(660, 90, 28, 0, Math.PI * 2);
      ctx.fill();
      
      // Sole
      ctx.fillStyle = '#FFD700';
      ctx.beginPath();
      ctx.arc(750, 80, 40, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '#FFA500';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    function updatePlayer(player, leftKey, rightKey, jumpKey, attackKey) {
      if (gameState.gameOver) return;
      
      // Movimento
      if (gameState.keys[leftKey]) {
        player.x -= MOVE_SPEED;
        player.direction = -1;
      }
      if (gameState.keys[rightKey]) {
        player.x += MOVE_SPEED;
        player.direction = 1;
      }
      
      // Salto
      if (gameState.keys[jumpKey] && !player.isJumping) {
        player.velocityY = JUMP_STRENGTH;
        player.isJumping = true;
      }
      
      // Attacco
      if (gameState.keys[attackKey] && player.attackCooldown === 0) {
        player.isAttacking = true;
        player.attackCooldown = 25;
        
        const opponent = player === gameState.player1 ? gameState.player2 : gameState.player1;
        const distance = Math.abs((player.x + player.width/2) - (opponent.x + opponent.width/2));
        
        if (distance < ATTACK_RANGE) {
          opponent.health = Math.max(0, opponent.health - ATTACK_DAMAGE);
          updateHealthBar(opponent === gameState.player1 ? 1 : 2, opponent.health);
          
          if (opponent.health === 0) {
            endGame(player === gameState.player1 ? 1 : 2);
          }
        }
      }
      
      if (player.attackCooldown > 0) {
        player.attackCooldown--;
        if (player.attackCooldown === 20) {
          player.isAttacking = false;
        }
      }
      
      // Gravit√†
      player.velocityY += GRAVITY;
      player.y += player.velocityY;
      
      // Collisione con il terreno
      if (player.y >= GROUND_Y) {
        player.y = GROUND_Y;
        player.velocityY = 0;
        player.isJumping = false;
      }
      
      // Limiti
      player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));
    }

    function updateAI() {
      if (gameState.gameOver) return;
      
      const ai = gameState.player2;
      const player = gameState.player1;
      
      const distance = Math.abs((ai.x + ai.width/2) - (player.x + player.width/2));
      const aiCenter = ai.x + ai.width/2;
      const playerCenter = player.x + player.width/2;
      
      // Decisione di movimento
      if (distance > ATTACK_RANGE + 20) {
        // Avvicinati al giocatore
        if (aiCenter < playerCenter) {
          ai.x += MOVE_SPEED * 0.8;
          ai.direction = 1;
        } else {
          ai.x -= MOVE_SPEED * 0.8;
          ai.direction = -1;
        }
      } else if (distance < 40) {
        // Troppo vicino, allontanati un po'
        if (aiCenter < playerCenter) {
          ai.x -= MOVE_SPEED * 0.6;
          ai.direction = 1;
        } else {
          ai.x += MOVE_SPEED * 0.6;
          ai.direction = -1;
        }
      }
      
      // Salto casuale o per schivare
      if (!ai.isJumping && Math.random() < 0.02) {
        ai.velocityY = JUMP_STRENGTH;
        ai.isJumping = true;
      }
      
      // Attacco quando in range
      if (distance < ATTACK_RANGE && ai.attackCooldown === 0 && Math.random() < 0.15) {
        ai.isAttacking = true;
        ai.attackCooldown = 25;
        
        if (distance < ATTACK_RANGE) {
          player.health = Math.max(0, player.health - ATTACK_DAMAGE);
          updateHealthBar(1, player.health);
          
          if (player.health === 0) {
            endGame(2);
          }
        }
      }
      
      if (ai.attackCooldown > 0) {
        ai.attackCooldown--;
        if (ai.attackCooldown === 20) {
          ai.isAttacking = false;
        }
      }
      
      // Gravit√†
      ai.velocityY += GRAVITY;
      ai.y += ai.velocityY;
      
      // Collisione con il terreno
      if (ai.y >= GROUND_Y) {
        ai.y = GROUND_Y;
        ai.velocityY = 0;
        ai.isJumping = false;
      }
      
      // Limiti
      ai.x = Math.max(0, Math.min(canvas.width - ai.width, ai.x));
    }

    function updateHealthBar(playerNum, health) {
      const healthBar = document.getElementById(`player${playerNum}Health`);
      const healthText = document.getElementById(`player${playerNum}HealthText`);
      healthBar.style.width = health + '%';
      healthText.textContent = Math.round(health);
    }

    function endGame(winner) {
      gameState.gameOver = true;
      gameState.winner = winner;
      const winnerText = document.getElementById('winnerText');
      const config = window.elementSdk?.config || defaultConfig;
      const winnerName = winner === 1 ? 
        (config.player_name || defaultConfig.player_name) : 
        (config.enemy_name || defaultConfig.enemy_name);
      winnerText.textContent = `${winnerName} VINCE!`;
      document.getElementById('gameOver').classList.add('show');
    }

    function gameLoop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      drawBackground();
      
      updatePlayer(gameState.player1, 'a', 'd', 'w', ' ');
      updateAI();
      
      drawDinosaur(gameState.player1, '#228B22', '#32CD32');
      drawDinosaur(gameState.player2, '#8B4513', '#D2691E');
      
      requestAnimationFrame(gameLoop);
    }

    let timerInterval = setInterval(() => {
      if (!gameState.gameOver && gameState.timer > 0) {
        gameState.timer--;
        document.getElementById('timer').textContent = gameState.timer;
        
        if (gameState.timer === 0) {
          if (gameState.player1.health === gameState.player2.health) {
            const winnerText = document.getElementById('winnerText');
            winnerText.textContent = 'PAREGGIO!';
            gameState.gameOver = true;
            document.getElementById('gameOver').classList.add('show');
          } else {
            const winner = gameState.player1.health > gameState.player2.health ? 1 : 2;
            endGame(winner);
          }
        }
      }
    }, 1000);

    document.addEventListener('keydown', (e) => {
      if (['a', 'd', 'w', ' '].includes(e.key)) {
        gameState.keys[e.key] = true;
        e.preventDefault();
      }
    });

    document.addEventListener('keyup', (e) => {
      if (['a', 'd', 'w', ' '].includes(e.key)) {
        gameState.keys[e.key] = false;
        e.preventDefault();
      }
    });

    // Controlli touch per i pulsanti
    const controlButtons = document.querySelectorAll('.controlBtn');
    
    controlButtons.forEach(btn => {
      const action = btn.dataset.action;
      
      const keyMap = {
        'left': 'a',
        'right': 'd',
        'jump': 'w',
        'attack': ' '
      };
      
      const key = keyMap[action];
      
      // Mouse events
      btn.addEventListener('mousedown', (e) => {
        e.preventDefault();
        gameState.keys[key] = true;
      });
      
      btn.addEventListener('mouseup', (e) => {
        e.preventDefault();
        gameState.keys[key] = false;
      });
      
      btn.addEventListener('mouseleave', (e) => {
        gameState.keys[key] = false;
      });
      
      // Touch events
      btn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        gameState.keys[key] = true;
      });
      
      btn.addEventListener('touchend', (e) => {
        e.preventDefault();
        gameState.keys[key] = false;
      });
      
      btn.addEventListener('touchcancel', (e) => {
        e.preventDefault();
        gameState.keys[key] = false;
      });
    });

    document.getElementById('restartBtn').addEventListener('click', () => {
      gameState = {
        player1: {
          x: 150,
          y: 280,
          width: 60,
          height: 80,
          health: 100,
          velocityY: 0,
          isJumping: false,
          direction: 1,
          isAttacking: false,
          attackCooldown: 0
        },
        player2: {
          x: 690,
          y: 280,
          width: 60,
          height: 80,
          health: 100,
          velocityY: 0,
          isJumping: false,
          direction: -1,
          isAttacking: false,
          attackCooldown: 0
        },
        keys: {},
        timer: 99,
        gameOver: false,
        winner: null
      };
      
      updateHealthBar(1, 100);
      updateHealthBar(2, 100);
      document.getElementById('timer').textContent = '99';
      document.getElementById('gameOver').classList.remove('show');
    });

    async function onConfigChange(config) {
      const title = config.game_title || defaultConfig.game_title;
      const player1Name = config.player_name || defaultConfig.player_name;
      const player2Name = config.enemy_name || defaultConfig.enemy_name;
      
      document.getElementById('title').textContent = title;
      document.getElementById('player1Name').textContent = player1Name;
      document.getElementById('player2Name').textContent = player2Name;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["game_title", config.game_title || defaultConfig.game_title],
        ["player_name", config.player_name || defaultConfig.player_name],
        ["enemy_name", config.enemy_name || defaultConfig.enemy_name]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    gameLoop();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99f124927603edd6',t:'MTc2MzIzNDgxMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>